// Licensed to the .NET Foundation under one or more agreements.
// The .NET Foundation licenses this file to you under the MIT license.

using System;

namespace TestFramework.Tooling.UnitTestLauncher.Tests
{
    /// <summary>
    /// This is a program that tests the non-generated code of the
    /// TestFramework.Tooling.UnitTestLauncherGenerator This project
    /// can also be used to code and debug that code.
    ///
    /// The code is included in the TestFramework.Tooling as embedded resource.
    /// It is not tested in the build of TestFramework.Tooling.
    ///
    /// The code below the line depends on the TestFramework.Tooling.Tests.Execution.v3
    /// project. Check and run the test TestFramework_Tooling_UnitTestLauncher_Tests_Asserts
    /// in TestFramework.Tooling.Tests to verify that the data is still correct.
    /// </summary>
    public class Program
    {
        public static void Main()
        {
            Console.WriteLine("========================================");
            Console.WriteLine("UnitTestLauncher test program");
            Console.WriteLine("========================================");

            nanoFramework.TestFramework.Tools.UnitTestLauncher.Run("***");
        }
    }
}

//===========================================================================================
//
// The code below is normally generated by the UnitTestLauncherGenerator.
//
// The code may need to be adapted if the TestFramework.Tooling.Tests.Execution.v3
// project is updated.
//
// Check and run the test TestFramework_Tooling_UnitTestLauncher_Tests_Asserts
// in TestFramework.Tooling.Tests to verify that the data is still correct.
//

namespace nanoFramework.TestFramework.Tools
{
    public partial class UnitTestLauncher
    {
        private partial void RunUnitTests()
        {
            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.FailInSetup), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.FailInSetup.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.FailInTest), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.FailInTest.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.InconclusiveInTest), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.InconclusiveInTest.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.CleanupFailedInTest), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.CleanupFailedInTest.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.FailInCleanUp), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.FailInCleanUp.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.FailInDispose), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.FailInDispose.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.NonFailingTest), true,
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Setup),
                nameof(global::TestFramework.Tooling.Execution.Tests.FailInConstructor.Cleanup),
                (frm, fdr) =>
                {
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.NonFailingTest.Test));
                }
            );

            ForClass(
                typeof(global::TestFramework.Tooling.Execution.Tests.TestWithMethods), true,
                null, null,
                (frm, fdr) =>
                {
                    fdr(nameof(global::TestFramework.Tooling.Execution.Tests.TestWithMethods.Test1), 0, 1);
                    frm(nameof(global::TestFramework.Tooling.Execution.Tests.TestWithMethods.Test2));
                }
            );
        }
    }
}
